{"version":3,"sources":["ifr-geometry/loaders/CachedImageLoader.js"],"names":[],"mappings":";;;;;AAKA;;AAEA,IAAI,QAAQ,QAAQ,OAAR,CAAR;;;;;AAKJ,IAAI,kBAAkB,SAAlB,eAAkB,GACtB;;AAEC,MAAK,GAAL,GAAW,IAAX;;AAFD,KAIC,CAAK,OAAL,GAAe,KAAf;;AAJD,KAMC,CAAK,KAAL,GAAa,IAAb,CAND;CADsB;;;;;AAatB,IAAI,oBAAoB,SAApB,iBAAoB,GACxB;;AAEC,MAAK,OAAL,GAAe,IAAI,MAAM,WAAN,EAAnB;;;AAFD,KAKC,CAAK,OAAL,GAAe,IAAf,CALD;CADwB;;;;;AAYxB,kBAAkB,SAAlB,CAA4B,SAA5B,GAAwC,YACxC;AACC,QAAO,KAAK,OAAL,CADR;CADwC;;;;;;AASxC,kBAAkB,SAAlB,CAA4B,SAA5B,GAAwC,UAAS,GAAT,EAAc,QAAd,EACxC;AACC,KAAI,OAAO,IAAP,CADL;AAEC,MAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB,EAAuB,UAAS,KAAT,EACvB;;AAEC,MAAI,SAAS,IAAI,eAAJ,EAAT,CAFL;AAGC,SAAO,GAAP,GAAa,GAAb,CAHD;AAIC,SAAO,OAAP,GAAiB,IAAjB,CAJD;AAKC,SAAO,KAAP,GAAe,KAAf,CALD;AAMC,OAAK,OAAL,GAAe,MAAf,CAND;AAOC,MAAI,QAAJ,EACA;AACC,cADD;GADA;EARsB,EAYpB,SAZH,EAYc,UAAS,KAAT;AACd;;AAEC,MAAI,SAAS,IAAI,eAAJ,EAAT,CAFL;AAGC,SAAO,GAAP,GAAa,GAAb,CAHD;AAIC,SAAO,OAAP,GAAiB,KAAjB,CAJD;AAKC,OAAK,OAAL,GAAe,MAAf,CALD;AAMC,MAAI,QAAJ,EACA;AACC,cADD;GADA;EAPa,CAZd,CAFD;CADwC;;AA6BxC,OAAO,OAAP,GAAiB,iBAAjB","file":"ifr-geometry/loaders/CachedImageLoader.js","sourcesContent":["/**\n * @author mattb\n * Copyright 2014 IF Robots LLC\n */\n\n\"use strict\";\n\nvar THREE = require(\"three\");\n\n/**\n * @constructor\n */\nvar ImageLoadResult = function()\n{\n\t/** @type {string} */\n\tthis.url = null;\n\t/** @type {!boolean} */\n\tthis.success = false;\n\t/** @type {THREE.Object3D} */\n\tthis.image = null;\n};\n\n/**\n * @constructor\n */\nvar CachedImageLoader = function()\n{\n\t/** @type {THREE.ImageLoader} */\n\tthis._loader = new THREE.ImageLoader();\n\n\t/** @type {ImageLoadResult} */\n\tthis._result = null;\n};\n\n/**\n * @return {ImageLoadResult}\n */\nCachedImageLoader.prototype.getResult = function()\n{\n\treturn this._result;\n};\n\n/**\n * @param {string} url\n * @param callback\n */\nCachedImageLoader.prototype.loadImage = function(url, callback)\n{\n\tvar self = this;\n\tthis._loader.load(url, function(image)\n\t{\n\t\t// done\n\t\tvar result = new ImageLoadResult();\n\t\tresult.url = url;\n\t\tresult.success = true;\n\t\tresult.image = image;\n\t\tself._result = result;\n\t\tif (callback)\n\t\t{\n\t\t\tcallback();\n\t\t}\n\t}, undefined, function(event) // eslint-disable-line no-unused-vars\n\t{\n\t\t// error\n\t\tvar result = new ImageLoadResult();\n\t\tresult.url = url;\n\t\tresult.success = false;\n\t\tself._result = result;\n\t\tif (callback)\n\t\t{\n\t\t\tcallback();\n\t\t}\n\t});\n};\n\nmodule.exports = CachedImageLoader;"],"sourceRoot":"/source/"}