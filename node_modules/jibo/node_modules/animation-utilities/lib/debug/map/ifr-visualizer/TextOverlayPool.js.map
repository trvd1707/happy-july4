{"version":3,"sources":["ifr-visualizer/TextOverlayPool.js"],"names":[],"mappings":"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","file":"ifr-visualizer/TextOverlayPool.js","sourcesContent":["/**\n * @author jg\n * Copyright 2016 IF Robots LLC\n */\n\n\"use strict\";\n\n/**\n * @type {number}\n */\nvar idCounter = 0;\n\n/**\n *\n * @param {?string} [text]\n * @param {?string} [colorString]\n * @param {?number} [fontSize]\n * @constructor\n */\nvar TextElement = function(text, colorString, fontSize){\n\tthis.div = document.createElement('div');\n\tthis.div.id = 'text-display:'+(idCounter++);\n\tthis.div.style.cssText = 'padding:0 0 0px 0px;text-align:left;position:absolute';\n\tif(colorString!=null){\n\t\tthis.setColor(colorString);\n\t}\n\tif(fontSize!=null){\n\t\tthis.setSize(fontSize);\n\t}\n\tif(text!=null) {\n\t\tthis.setText(text);\n\t}\n};\n\n/**\n * @param {number} x\n * @param {number} y\n */\nTextElement.prototype.setPosition2D = function(x,y){\n\tthis.div.style.top = y+\"px\";\n\tthis.div.style.left = x+\"px\";\n};\n\n/**\n * @param {string} colorString\n */\nTextElement.prototype.setColor = function(colorString){\n\tthis.div.style.color = colorString;\n};\n\n/**\n * @param {string} text\n */\nTextElement.prototype.setText = function(text){\n\tthis.div.innerHTML = text;\n};\n\n/**\n * @param {number} fontSize\n */\nTextElement.prototype.setSize = function(fontSize){\n\tthis.div.style.fontSize = fontSize;\n};\n\n/**\n *\n * @param {Element} onElement\n * @constructor\n */\nvar TextOverlayPool = function(onElement){\n\n\t/**\n\t * @type {Element}\n\t */\n\tthis.onElement = onElement;\n\n\t/**\n\t * @type {TextElement[]}\n\t */\n\tthis.drawOnceElements = [];\n\n\t/**\n\t * @type {TextElement[]}\n\t */\n\tthis.leasedElements = [];\n};\n\n/**\n *\n * @param {string} text\n * @param {number} pixelX\n * @param {number} pixelY\n * @param {?string} [color]\n * @param {?number} [size]\n */\nTextOverlayPool.prototype.drawOnce2D = function(text, pixelX, pixelY, color, size){\n\tvar te = new TextElement(text, color, size);\n\tte.setPosition2D(pixelX,pixelY);\n\tthis.drawOnceElements.push(te);\n\tthis.onElement.appendChild(te.div);\n};\n\n/**\n *\n * @param {string} text\n * @param {number} pixelX\n * @param {number} pixelY\n * @param {?string} [color]\n * @param {?number} [size]\n * @return {TextElement}\n */\nTextOverlayPool.prototype.lease2D = function(text, pixelX, pixelY, color, size){\n\tvar te = new TextElement(text, color, size);\n\tte.setPosition2D(pixelX,pixelY);\n\tthis.leasedElements.push(te);\n\tthis.onElement.appendChild(te.div);\n\treturn te;\n};\n\n/**\n * @param {TextElement} element\n */\nTextOverlayPool.prototype.returnLeased = function(element){\n\tvar matchingIndex = this.leasedElements.indexOf(element);\n\tif(matchingIndex >= 0){\n\t\tthis.onElement.removeChild(element.div);\n\t\tthis.leasedElements.splice(matchingIndex, 1);\n\t}else{\n\t\tconsole.log(\"Error, cannot return leased text element that is not been leased!(\"+(element==null?\"null\":element.div.innerHTML)+\")\");\n\t}\n};\n\nTextOverlayPool.prototype.returnAllLeased = function(){\n\twhile(this.leasedElements.length > 0){\n\t\tvar te = this.leasedElements.pop();\n\t\tthis.onElement.removeChild(te.div);\n\t}\n};\n\n\nTextOverlayPool.prototype.postRenderCleanup = function(){\n\twhile(this.drawOnceElements.length > 0){\n\t\tvar te = this.drawOnceElements.pop();\n\t\tthis.onElement.removeChild(te.div);\n\t}\n};\n\n\n\nmodule.exports = TextOverlayPool;\n"],"sourceRoot":"/source/"}