{"version":3,"sources":["animation-visualize/RendererOutput.js"],"names":[],"mappings":";;;;AAIA;;;;;;;;AAOA,IAAI,iBAAiB,SAAjB,cAAiB,CAAS,KAAT,EACrB;;AAEC,MAAK,KAAL,GAAa,KAAb;;AAFD,KAIC,CAAK,aAAL,GAAqB,IAArB;;AAJD,KAMC,CAAK,SAAL,GAAiB,EAAjB;;AAND,KAQC,CAAK,UAAL,GAAkB,IAAlB;;AARD,KAUC,CAAK,UAAL,GAAkB,IAAlB,CAVD;CADqB;;;;;AAiBrB,eAAe,SAAf,CAAyB,gBAAzB,GAA4C,UAAS,aAAT,EAC5C;AACC,MAAK,aAAL,GAAqB,aAArB,CADD;CAD4C;;;;;AAQ5C,eAAe,SAAf,CAAyB,WAAzB,GAAuC,UAAS,QAAT,EACvC;AACC,MAAK,SAAL,CAAe,IAAf,CAAoB,QAApB,EADD;CADuC;;;;;AAQvC,eAAe,SAAf,CAAyB,cAAzB,GAA0C,UAAS,QAAT,EAC1C;AACC,KAAI,gBAAgB,KAAK,SAAL,CAAe,OAAf,CAAuB,QAAvB,CAAhB,CADL;AAEC,KAAI,gBAAgB,CAAC,CAAD,EACpB;AACC,OAAK,SAAL,CAAe,MAAf,CAAsB,aAAtB,EAAqC,CAArC,EADD;EADA;CAHyC;;;;;AAY1C,eAAe,SAAf,CAAyB,YAAzB,GAAwC,YACxC;AACC,QAAO,KAAK,SAAL,CAAe,KAAf,CAAqB,CAArB,CAAP,CADD;CADwC;;;;;;AASxC,eAAe,SAAf,CAAyB,YAAzB,GAAwC,UAAS,IAAT,EAAe,IAAf,EACxC;AACC,MAAK,UAAL,GAAkB,IAAlB,CADD;AAEC,MAAK,UAAL,GAAkB,IAAlB,CAFD;CADwC;;AAMxC,eAAe,SAAf,CAAyB,MAAzB,GAAkC,YAClC;AACC,KAAI,KAAK,aAAL,KAAuB,IAAvB,IAA+B,KAAK,UAAL,KAAoB,IAApB,EACnC;AACC,MAAI,OAAO,KAAK,UAAL,CADZ;;AAGC,MAAI,YAAY,EAAZ,CAHL;AAIC,MAAI,WAAW,KAAK,WAAL,EAAX,CAJL;AAKC,OAAK,IAAI,WAAS,CAAT,EAAY,WAAS,SAAS,MAAT,EAAiB,UAA/C,EACA;AACC,OAAI,WAAW,KAAK,GAAL,CAAS,SAAS,QAAT,CAAT,EAA6B,CAA7B,CAAX,CADL;AAEC,aAAU,SAAS,QAAT,CAAV,IAAgC,QAAhC,CAFD;GADA;;AAMA,OAAK,IAAI,IAAE,CAAF,EAAK,IAAE,KAAK,SAAL,CAAe,MAAf,EAAuB,GAAvC,EACA;AACC,QAAK,SAAL,CAAe,CAAf,EAAkB,OAAlB,CAA0B,SAA1B,EADD;GADA;EAZD;CAFiC;;AAqBlC,eAAe,SAAf,CAAyB,OAAzB,GAAmC,YACnC;AACC,MAAK,IAAI,IAAE,CAAF,EAAK,IAAE,KAAK,SAAL,CAAe,MAAf,EAAuB,GAAvC,EACA;AACC,OAAK,SAAL,CAAe,CAAf,EAAkB,OAAlB,GADD;EADA;AAIA,MAAK,SAAL,GAAiB,EAAjB,CALD;AAMC,MAAK,aAAL,GAAqB,IAArB,CAND;AAOC,MAAK,UAAL,GAAkB,IAAlB,CAPD;CADmC;;AAWnC,OAAO,OAAP,GAAiB,cAAjB","file":"animation-visualize/RendererOutput.js","sourcesContent":["/**\n * @author mattb\n */\n\n\"use strict\";\n\n/**\n * @param {Clock} clock\n * @private\n * @constructor\n */\nvar RendererOutput = function(clock)\n{\n\t/** @type {Clock} */\n\tthis.clock = clock;\n\t/** @type {JiboKinematicInfo} */\n\tthis.kinematicInfo = null;\n\t/** @type {RobotRenderer[]} */\n\tthis.renderers = [];\n\t/** @type {Time} */\n\tthis.outputTime = null;\n\t/** @type {Pose} */\n\tthis.outputPose = null;\n};\n\n/**\n * @param {JiboKinematicInfo} kinematicInfo\n */\nRendererOutput.prototype.setKinematicInfo = function(kinematicInfo)\n{\n\tthis.kinematicInfo = kinematicInfo;\n};\n\n/**\n * @param {RobotRenderer} renderer\n */\nRendererOutput.prototype.addRenderer = function(renderer)\n{\n\tthis.renderers.push(renderer);\n};\n\n/**\n * @param {RobotRenderer} renderer\n */\nRendererOutput.prototype.removeRenderer = function(renderer)\n{\n\tvar rendererIndex = this.renderers.indexOf(renderer);\n\tif (rendererIndex > -1)\n\t{\n\t\tthis.renderers.splice(rendererIndex, 1);\n\t}\n};\n\n/**\n * @return {RobotRenderer[]}\n */\nRendererOutput.prototype.getRenderers = function()\n{\n\treturn this.renderers.slice(0);\n};\n\n/**\n * @param {Time} time\n * @param {Pose} pose\n */\nRendererOutput.prototype.handleOutput = function(time, pose)\n{\n\tthis.outputTime = time;\n\tthis.outputPose = pose;\n};\n\nRendererOutput.prototype.update = function()\n{\n\tif (this.kinematicInfo !== null && this.outputPose !== null)\n\t{\n\t\tvar pose = this.outputPose;\n\n\t\tvar dofValues = {};\n\t\tvar dofNames = pose.getDOFNames();\n\t\tfor (var dofIndex=0; dofIndex<dofNames.length; dofIndex++)\n\t\t{\n\t\t\tvar dofValue = pose.get(dofNames[dofIndex], 0);\n\t\t\tdofValues[dofNames[dofIndex]] = dofValue;\n\t\t}\n\n\t\tfor (var r=0; r<this.renderers.length; r++)\n\t\t{\n\t\t\tthis.renderers[r].display(dofValues);\n\t\t}\n\t}\n};\n\nRendererOutput.prototype.dispose = function()\n{\n\tfor (var i=0; i<this.renderers.length; i++)\n\t{\n\t\tthis.renderers[i].dispose();\n\t}\n\tthis.renderers = [];\n\tthis.kinematicInfo = null;\n\tthis.outputPose = null;\n};\n\nmodule.exports = RendererOutput;"],"sourceRoot":"/source/"}