{"version":3,"sources":["rendering/EyeOverlay.ts"],"names":[],"mappings":"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","file":"rendering/EyeOverlay.js","sourcesContent":["import AbstractEye from './AbstractEye';\nimport DOF from \"./DOF\";\nimport {conversion} from 'jibo-keyframes';\nimport DOFValues from \"./DOFValues\";\n\n\nclass EyeOverlay extends AbstractEye {\n    update(timestamp:Array<number>, dofValues:DOFValues)  {\n        if (!this.connected) {\n            return;\n        }\n        let vertices:Array<DOF> = this.eyeMesh.dofs;\n\n        if(dofValues.eyeTextureInfixBn_r !== this.texturePrev) {\n            this.texturePrev = dofValues.overlayTextureInfixBn_r;\n            this.texture = this.texturePrev;\n        }\n\n        vertices[0].x = conversion.toPixelsX(dofValues.overlay_vertexJoint1_t);\n        vertices[0].y = conversion.toPixelsY(dofValues.overlay_vertexJoint1_t_2);\n\n        vertices[1].x = conversion.toPixelsX(dofValues.overlay_vertexJoint2_t);\n        vertices[1].y = conversion.toPixelsY(dofValues.overlay_vertexJoint2_t_2);\n\n        vertices[2].x = conversion.toPixelsX(dofValues.overlay_vertexJoint3_t);\n        vertices[2].y = conversion.toPixelsY(dofValues.overlay_vertexJoint3_t_2);\n\n        vertices[3].x = conversion.toPixelsX(dofValues.overlay_vertexJoint4_t);\n        vertices[3].y = conversion.toPixelsY(dofValues.overlay_vertexJoint4_t_2);\n\n        vertices[4].x = conversion.toPixelsX(dofValues.overlay_vertexJoint5_t);\n        vertices[4].y = conversion.toPixelsY(dofValues.overlay_vertexJoint5_t_2);\n\n        vertices[5].x = conversion.toPixelsX(dofValues.overlay_vertexJoint6_t);\n        vertices[5].y = conversion.toPixelsY(dofValues.overlay_vertexJoint6_t_2);\n\n        vertices[6].x = conversion.toPixelsX(dofValues.overlay_vertexJoint7_t);\n        vertices[6].y = conversion.toPixelsY(dofValues.overlay_vertexJoint7_t_2);\n\n        vertices[7].x = conversion.toPixelsX(dofValues.overlay_vertexJoint8_t);\n        vertices[7].y = conversion.toPixelsY(dofValues.overlay_vertexJoint8_t_2);\n\n        vertices[8].x = conversion.toPixelsX(dofValues.overlay_vertexJoint9_t);\n        vertices[8].y = conversion.toPixelsY(dofValues.overlay_vertexJoint9_t_2);\n\n        this.x = conversion.toPixelsX(dofValues.overlay_textureSubRootBn_t);\n        this.y = -conversion.toPixelsX(dofValues.overlay_textureSubRootBn_t_2);\n\n        this.red = dofValues.overlay_redChannelBn_r;\n        this.green = dofValues.overlay_greenChannelBn_r;\n        this.blue = dofValues.overlay_blueChannelBn_r;\n\n        this.rotation = -dofValues.overlay_textureSubRootBn_r;\n    }\n\n}\nexport default EyeOverlay;"],"sourceRoot":"/source/"}