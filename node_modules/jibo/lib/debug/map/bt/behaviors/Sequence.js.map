{"version":3,"sources":["bt/behaviors/Sequence.js"],"names":[],"mappings":";;;;;;AAAA,+BAA2B,mBAAmB,CAAC,CAAA;AAC/C,uBAAmB,WAAW,CAAC,CAAA;AAE/B;;;;;;;;GAQG;AACH;IAAsC,4BAAc;IAChD,kBAAY,OAAO;QACf,kBAAM,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;IACtB,CAAC;IACD,wBAAK,GAAL;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7B,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;QACnD,IAAI,CAAC,OAAO,GAAG,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;QAC3C,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IACD,uBAAI,GAAJ;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;YAC7D,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;QACtB,CAAC;IACL,CAAC;IACD,yBAAM,GAAN;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,gBAAM,CAAC,SAAS,CAAC,CAAC,CAAC;YACjE,MAAM,CAAC,gBAAM,CAAC,SAAS,CAAC;QAC5B,CAAC;QACD,OAAO,IAAI,CAAC,OAAO,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAChE,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;YACxD,EAAE,CAAC,CAAC,WAAW,KAAK,gBAAM,CAAC,SAAS,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;oBACtC,IAAI,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;oBACxD,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;wBAChB,MAAM,CAAC,gBAAM,CAAC,MAAM,CAAC;oBACzB,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,CAAC,gBAAM,CAAC,SAAS,CAAC;gBAC5B,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,WAAW,KAAK,gBAAM,CAAC,WAAW,IAAI,WAAW,IAAI,gBAAM,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC5E,MAAM,CAAC,gBAAM,CAAC,WAAW,CAAC;YAC9B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,MAAM,CAAC,gBAAM,CAAC,MAAM,CAAC;YACzB,CAAC;QACL,CAAC;QACD,MAAM,CAAC,gBAAM,CAAC,SAAS,CAAC;IAC5B,CAAC;IACL,eAAC;AAAD,CA3CA,AA2CC,CA3CqC,wBAAc,GA2CnD;AA3CD;0BA2CC,CAAA","file":"bt/behaviors/Sequence.js","sourcesContent":["import ParentBehavior from '../ParentBehavior';\nimport Status from '../Status';\n\n/**\n * @class Sequence\n * @extends module:jibo/bt.ParentBehavior\n * @memberof module:jibo/bt/behaviors\n * @description `Sequence` Runs its child nodes in sequence until one fails. Fails if one of the children fails\n * and succeeds if all its children succeeded.\n * @param {Object} options See {@link module:jibo/bt.Behavior|Behavior} for all options.\n * @param {Array<module:jibo/bt.Behavior>} [options.children=[]] - An array of child behaviors.\n */\nexport default class Sequence extends ParentBehavior {\n    constructor(options) {\n        super(options);\n        this.current = -1;\n    }\n    start() {\n        if (this.children.length === 0) {\n            return true;\n        }\n        this.current = 0;\n        var success = this.children[this.current]._start();\n        this.current = success ? this.current : -1;\n        return success;\n    }\n    stop() {\n        if (this.current !== -1 && this.current < this.children.length) {\n            this.current = -1;\n        }\n    }\n    update() {\n        if (this.children.length === 0 || this.status === Status.SUCCEEDED) {\n            return Status.SUCCEEDED;\n        }\n        while (this.current !== -1 && this.current < this.children.length) {\n            var childStatus = this.children[this.current]._update();\n            if (childStatus === Status.SUCCEEDED) {\n                this.current++;\n                if (this.current < this.children.length) {\n                    var startSuccess = this.children[this.current]._start();\n                    if (!startSuccess) {\n                        return Status.FAILED;\n                    }\n                } else {\n                    return Status.SUCCEEDED;\n                }\n            } else if (childStatus === Status.IN_PROGRESS || childStatus == Status.PAUSED) {\n                return Status.IN_PROGRESS;\n            } else {\n                return Status.FAILED;\n            }\n        }\n        return Status.SUCCEEDED;\n    }\n}"],"sourceRoot":"/source/"}